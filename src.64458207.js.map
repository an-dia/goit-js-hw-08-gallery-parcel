{"version":3,"sources":["js/gallery-items.js","index.js"],"names":["preview","original","description","img","refs","imagesList","document","querySelector","lightbox","bigImage","btnClose","backdrop","imagesGallery","createImageGallery","images","map","join","onOpenModal","evt","preventDefault","target","nodeName","classList","add","src","dataset","source","alt","addEventListener","onCloseEsc","onScrollingGalleryImages","onCloseModal","removeEventListener","remove","onRemoveAttributesBiImage","onCloseBackdropClick","currentTarget","code","imagesArray","forEach","item","push","currentIndex","indexOf","console","log","length","insertAdjacentHTML"],"mappings":"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","file":"src.64458207.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n","import \"./sass/main.scss\";\n\nimport images from \"./js/gallery-items\";\n// console.log(images);\n// <li class=\"gallery__item\">\n//   <a\n//     class=\"gallery__link\"\n//     href=\"https://cdn.pixabay.com/photo/2010/12/13/10/13/tulips-2546_1280.jpg\"\n//   >\n//     <img\n//       class=\"gallery__image\"\n//       src=\"https://cdn.pixabay.com/photo/2010/12/13/10/13/tulips-2546__340.jpg\"\n//       data-source=\"https://cdn.pixabay.com/photo/2010/12/13/10/13/tulips-2546_1280.jpg\"\n//       alt=\"Tulips\"\n//     />\n//   </a>\n// </li>\nconst refs = {\n  imagesList: document.querySelector(\".js-gallery\"),\n  lightbox: document.querySelector(\".js-lightbox\"),\n  bigImage: document.querySelector(\".lightbox__image\"),\n  btnClose: document.querySelector('button[data-action=\"close-lightbox\"]'),\n  backdrop: document.querySelector(\".lightbox__overlay\"),\n};\n\nconst imagesGallery = createImageGallery(images);\n\nrefs.imagesList.insertAdjacentHTML(\"beforeend\", imagesGallery);\n\nrefs.imagesList.addEventListener(\"click\", onOpenModal);\nrefs.btnClose.addEventListener(\"click\", onCloseModal);\nrefs.backdrop.addEventListener(\"click\", onCloseBackdropClick);\n\n//Рендерит разметку галереи\nfunction createImageGallery(images) {\n  return images\n    .map(({ preview, original, description }) => {\n      return `<li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${original}\"\n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${preview}\"\n      data-source=\"${original}\"\n      alt=\"${description}\"\n    />\n  </a>\n</li>`;\n    })\n    .join(\"\");\n}\nlet img;\n//Открывает модалку с большим изображением\nfunction onOpenModal(evt) {\n  // console.log(evt.target)\n  evt.preventDefault();\n  //  if (!evt.target.classList.contains(\"gallery__image\")) {\n  //    return;\n  //  }\n  if (evt.target.nodeName !== \"IMG\") {\n    return;\n  }\n\n  refs.lightbox.classList.add(\"is-open\");\n  refs.bigImage.src = evt.target.dataset.source;\n  refs.bigImage.alt = evt.target.alt;\n\n\n   document.addEventListener(\"keydown\", onCloseEsc);\n   document.addEventListener(\"keydown\", onScrollingGalleryImages);\n}\n\n//Закрывает модалку при закрытии очищаее src lightbox__image\nfunction onCloseModal() {\n  document.removeEventListener(\"keydown\", onCloseEsc);\n  document.removeEventListener(\"keydown\", onScrollingGalleryImages);\n  refs.lightbox.classList.remove(\"is-open\");\n  onRemoveAttributesBiImage();\n}\n\n// Очищает  src и alt элемента img.lightbox__image\nfunction onRemoveAttributesBiImage() {\n  // refs.bigImage.removeAttribute('src');\n  // refs.bigImage.removeAttribute('alt');\n  refs.bigImage.src = \"\";\n  refs.bigImage.alt = \"\";\n}\n\n//Закрытие по клику на бэкдроп\nfunction onCloseBackdropClick(evt) {\n  if (evt.currentTarget === evt.target) {\n    onCloseModal();\n  }\n}\n\nfunction onCloseEsc(evt) {\n  const ESC_KEY_CODE = \"Escape\";\n  if (evt.code === ESC_KEY_CODE) {\n    onCloseModal();\n  }\n}\n\n\n\n\n// const imagesOriginal = images.map((item) => item.original)\n//  console.log(imagesOriginal)\n\n// Переключение картинок\nfunction onScrollingGalleryImages(evt) {\n  \n  let imagesArray = [];\nimages.forEach((item) => {\n  imagesArray.push(item.original);\n  // console.log(imagesArray)\n});\n  let currentIndex = imagesArray.indexOf(refs.bigImage.src);  \n    console.log(refs.bigImage.src)\n  // console.log(currentIndex);\n  const ARROW_LEFT = \"ArrowLeft\";\n  const ARROW_RIGHT = \"ArrowRight\";\n  if (evt.code === ARROW_LEFT) {\n    if (currentIndex > 0) {\n      refs.bigImage.src = imagesArray[currentIndex - 1]\n    } else if (currentIndex <= 0) {\n      currentIndex = imagesArray.length\n      refs.bigImage.src = imagesArray[currentIndex - 1]\n    }\n     console.log(currentIndex)\n   }\n\n  if (evt.code === ARROW_RIGHT) {\n       if (currentIndex < imagesArray.length - 1) {\n     refs.bigImage.src = imagesArray[currentIndex + 1]\n     } else currentIndex = -1 \n     refs.bigImage.src = imagesArray[currentIndex + 1]\n\n    // refs.bigImage.src = imagesArray[currentIndex + 1]\n    // if (currentIndex + 1 > imagesArray.length ) {\n    //   currentIndex = -1\n    //   refs.bigImage.src = imagesArray[currentIndex + 1]\n      \n    // }     \n\n\n    console.log(currentIndex)\n}\n    \n  }\n\n"]}